!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VOffline=t()}(this,(function(){"use strict";var e=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n=function(e){this.opt=e||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0,this.logError=this.opt.logError||!1};n.prototype.ping=function(e,t){var n,i=this;i.wasSuccess=!1,i.img=new Image,i.img.onload=function(e){i.wasSuccess=!0,r.call(i,e)},i.img.onerror=function(e){i.wasSuccess=!1,r.call(i,e)};var o=new Date;function r(){n&&clearTimeout(n);var e=new Date-o;if("function"==typeof t)return this.wasSuccess?t(null,e):(i.logError&&console.error("error loading resource"),t("error",e))}i.timeout&&(n=setTimeout((function(){r.call(i,void 0)}),i.timeout)),i.img.src=e+i.favicon+"?"+ +new Date},e.exports&&(e.exports=n)})),t=["online","offline","load"];const n={name:"VOffline",props:{slotName:{type:String,required:!1,default:"online"},onlineClass:{type:String,required:!1,default:""},offlineClass:{type:String,required:!1,default:""},pingUrl:{type:String,required:!1,default:"https://google.com"}},data:function(){return{isOnline:navigator.onLine||!1}},computed:{computedClass:function(){return this.isOnline?this.onlineClass:this.offlineClass}},created:function(){var e=this;t.forEach((function(t){return window.addEventListener(t,e.updateOnlineStatus)}))},beforeDestroy:function(){var e=this;t.forEach((function(t){return window.removeEventListener(t,e.updateOnlineStatus)}))},methods:{updateOnlineStatus:function(){var t=this,n=this;(new e).ping(n.pingUrl,(function(e){e||!navigator.onLine?(n.isOnline=!1,n.$emit("detected-condition",t.isOnline)):(n.isOnline=!0,n.$emit("detected-condition",t.isOnline))}))}}};var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.computedClass},[this._t(this.slotName)],2)};i._withStripped=!0;return function(e,t,n,i,o,r,s,a,c,u){"boolean"!=typeof s&&(c=a,a=s,s=!1);var d,f="function"==typeof n?n.options:n;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),i&&(f._scopeId=i),r?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},f._ssrRegister=d):t&&(d=s?function(e){t.call(this,u(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(f.functional){var l=f.render;f.render=function(e,t){return d.call(t),l(e,t)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,d):[d]}return n}({render:i,staticRenderFns:[]},void 0,n,void 0,!1,void 0,!1,void 0,void 0,void 0)}));
